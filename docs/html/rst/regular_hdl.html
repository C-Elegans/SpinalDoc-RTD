

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>VHDL/Verilog/SystemVerilog aren’t Hardware Description Languages &mdash; SpinalHDL 1.11 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> SpinalHDL
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About SpinalHDL:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#site-purpose-and-structure">Site purpose and structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-spinalhdl">What is SpinalHDL ?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="introduction.html#advantages-of-using-spinalhdl-over-vhdl-verilog">Advantages of using SpinalHDL over VHDL / Verilog</a></li>
<li class="toctree-l3"><a class="reference internal" href="introduction.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#links">Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="support.html#communication-channels">Communication channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="support.html#commercial-support">Commercial support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-the-overhead-of-spinalhdl-generated-rtl-compared-to-human-written-vhdl-verilog">What is the overhead of SpinalHDL generated RTL compared to human written VHDL/Verilog?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-if-spinalhdl-becomes-unsupported-in-the-future">What if SpinalHDL becomes unsupported in the future?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#does-spinalhdl-keep-comments-in-generated-vhdl-verilog">Does SpinalHDL keep comments in generated VHDL/verilog?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#could-spinalhdl-scale-up-to-big-projects">Could SpinalHDL scale up to big projects?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-spinalhdl-came-to-be">How SpinalHDL came to be</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-develop-a-new-language-when-there-is-vhdl-verilog-systemverilog">Why develop a new language when there is VHDL/Verilog/SystemVerilog</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-to-use-an-unreleased-version-of-spinalhdl-but-commited-on-git">How to use an unreleased version of SpinalHDL (but commited on git)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#requirements-things-to-download-to-get-started-requirements">Requirements / Things to download to get started {#requirements}</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#how-to-start-programming-with-spinalhdl">How to start programming with SpinalHDL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#the-sbt-way-sbtway">The SBT way {#sbtWay}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started.html#sbt-in-a-environnement-isolated-from-internet">SBT in a environnement isolated from internet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#the-ide-way-with-intellij-idea-and-its-scala-plugin-ideway">The IDE way, with IntelliJ IDEA and its Scala plugin {#ideWay}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#a-very-simple-spinalhdl-example-example">A very simple SpinalHDL example {#example}</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#generated-code">Generated code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#what-to-do-next">What to do next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scala/introduction.html">Scala guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scala/introduction.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scala/basics.html">Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#types">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#variable">Variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#function">Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#return">Return</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#return-type-inferation">Return type inferation</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#curly-braces">Curly braces</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#function-that-return-nothing">Function that return nothing</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#arguements-default-value">Arguements default value</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#apply">Apply</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#object">Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#entry-point-main">Entry point (main)</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#class">Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#inheritance">Inheritance</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/basics.html#case-class">Case class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scala/basics.html#templates-type-parameterization">Templates / Type parameterization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scala/coding_conventions.html">Coding conventions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scala/coding_conventions.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/coding_conventions.html#class-vs-case-class">class vs case class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#case-class">[case] class</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#companion-object">companion object</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#function">function</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#instances">instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#if-when">if / when</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#switch">switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="scala/coding_conventions.html#parameters">Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scala/interaction.html">Interaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#how-spinalhdl-work-behind-the-api">How SpinalHDL work behind the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#everything-is-reference">Everything is reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#hardware-types">Hardware types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scala/interaction.html#rgb-example">RGB example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#names-of-signals-in-the-generated-rtl">Names of signals in the generated RTL</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#scala-is-for-elaboration-spinalhdl-for-hardware-description">Scala is for elaboration, SpinalHDL for hardware description</a></li>
<li class="toctree-l2"><a class="reference internal" href="scala/interaction.html#scala-elaboration-capabilities-if-for-functional-programming">Scala elaboration capabilities (if, for, functional programming)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/vhdl_perspective.html">VHDL equivalences</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#entity-and-architecture">Entity and architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#data-types">Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#signal">Signal</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#assignements">Assignements</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#literals">Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#registers">Registers</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/vhdl_perspective.html#process-blocks">Process blocks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vhdl_comp.html">VHDL comparison</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#process">Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#implicit-vs-explicit-definitions">Implicit vs explicit definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#clock-domains">Clock domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#component-s-internal-organization">Component’s internal organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#safety">Safety</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#functions-and-procedures">Functions and procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#buses-and-interfaces">Buses and Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#signal-declaration">Signal declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#component-instantiation">Component instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#casting">Casting</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#resizing">Resizing</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#parameterization">Parameterization</a></li>
<li class="toctree-l2"><a class="reference internal" href="vhdl_comp.html#meta-hardware-description">Meta hardware description</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Data types:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core/TypeIntroduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="core/bool.html">Bool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/bool.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/bool.html#declaration">Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/bool.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/bool.html#logic">Logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bool.html#edge-detection">Edge detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bool.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bool.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bool.html#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/bits.html">Bits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/bits.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/bits.html#declaration">Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/bits.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/bits.html#logic">Logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bits.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bits.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bits.html#bit-extraction">Bit extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bits.html#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/Int.html">Unit/SInt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/Int.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/Int.html#declaration">Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/Int.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Int.html#logic">Logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Int.html#arithmetic">Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Int.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Int.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Int.html#bit-extraction">Bit extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Int.html#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/enum.html">SpinalEnum</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/enum.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/enum.html#declaration">Declaration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/enum.html#encoding">Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/enum.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/enum.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/enum.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/enum.html#type-cast">Type cast</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/bundle.html">Bundle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/bundle.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/bundle.html#declaration">Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/bundle.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/bundle.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bundle.html#type-cast">Type cast</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/bundle.html#elements-direction">Elements direction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/bundle.html#in-out">in/out</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/bundle.html#master-slave">master/slave</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/Vec.html">Vec</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/Vec.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/Vec.html#declaration">Declaration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Vec.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/Vec.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Vec.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Vec.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Vec.html#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/Fix.html">UFix/SFix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/Fix.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/Fix.html#declaration">Declaration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#unsigned-fixed-point">Unsigned Fixed Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#signed-fixed-point">Signed Fixed Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#format">Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/Fix.html#assignments">Assignments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#valid-assignments">Valid Assignments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="core/Fix.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#from-a-scala-constant">From a Scala constant</a><ul>
<li class="toctree-l4"><a class="reference internal" href="core/Fix.html#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/Fix.html#raw-value">Raw value</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#id2">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/Fix.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#arithmetic">Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#comparison">Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#type-cast">Type cast</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Fix.html#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/Floating.html">Floating</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/Floating.html#description">Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Floating.html#ieee-754-floating-format">IEEE-754 floating format</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Floating.html#recoded-floating-format">Recoded floating format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="core/Floating.html#zero">Zero</a></li>
<li class="toctree-l4"><a class="reference internal" href="core/Floating.html#denormalized-values">Denormalized values</a></li>
<li class="toctree-l4"><a class="reference internal" href="core/Floating.html#normalized-values">Normalized values</a></li>
<li class="toctree-l4"><a class="reference internal" href="core/Floating.html#infinity">Infinity</a></li>
<li class="toctree-l4"><a class="reference internal" href="core/Floating.html#nan">NaN</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/Floating.html#declaration">Declaration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Floating.html#ieee-754-number">IEEE-754 Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/Floating.html#recoded-floating-point-number">Recoded floating point number</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/Floating.html#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/Floating.html#type-cast">Type cast</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Structuring:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core/components_hierarchy.html">Component and hierarchy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/components_hierarchy.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/components_hierarchy.html#input-output-definition">Input / output definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/components_hierarchy.html#pruned-signals">Pruned signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/components_hierarchy.html#generic-vhdl-parameter-verilog">Generic(VHDL) / Parameter(Verilog)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/area.html">Area</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/area.html#id1">Area</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/function.html">Function</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/function.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/function.html#rgb-to-gray">RGB to gray</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/function.html#valid-ready-payload-bus">Valid Ready Payload bus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/clock_domain.html">Clock domains</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/clock_domain.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/clock_domain.html#instantiation">Instantiation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#internal-clock">Internal clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#external-clock">External clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#context">Context</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core/clock_domain.html#clock-domain-crossing">Clock domain crossing</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/clock_domain.html#special-clocking-area">Special clocking Area</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#slow-area">Slow&nbsp;Area</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#resetarea">ResetArea</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/clock_domain.html#clockenablearea">ClockEnableArea</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/blackbox.html">Instanciate VHDL and Verilog IP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#defining-an-blackbox">Defining an blackbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#generics">Generics</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#instantiating-a-blackbox">Instantiating a blackbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#clock-and-reset-mapping">Clock and reset mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#io-prefix">io prefix</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#rename-all-io-of-a-blackbox">Rename all io of a blackbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#add-rtl-source">Add RTL&nbsp;source</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/blackbox.html#vhdl-no-numeric-type">VHDL - No numeric type</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Rules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core/assignements.html">Assignments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/assignements.html#id1">Assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/assignements.html#width-checking">Width checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/assignements.html#combinatorial-loops">Combinatorial loops</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/when_switch.html">When/Switch/Mux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/when_switch.html#when">When</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/when_switch.html#switch">Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/when_switch.html#local-declaration">Local declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/when_switch.html#mux">Mux</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/when_switch.html#bitwise-selection">Bitwise selection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/when_switch.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/sementic.html">Rules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/sementic.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/sementic.html#concurrency">Concurrency</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/sementic.html#last-valid-assignement-win">Last valid assignement win</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/sementic.html#signals-and-register-interactions-with-scala-oop-reference-functions">Signals and register interactions with Scala (OOP reference + Functions)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Sequential logic:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core/registers.html">Registers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/registers.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/registers.html#instantiation">Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/registers.html#reset-value">Reset value</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/registers.html#initialization-value-for-simulation-purposes">Initialization value for simulation purposes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/memory.html">RAM/ROM</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/memory.html#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/memory.html#read-under-write-policy">Read under write policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/memory.html#mixed-width-ram">Mixed width ram</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/memory.html#automatic-blackboxing">Automatic blackboxing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/memory.html#blackboxing-policy">Blackboxing policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/memory.html#standard-memory-blackboxes">Standard memory blackboxes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Design errors:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core/checks/assignment_overlap.html">Assignement overlap</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/assignment_overlap.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/assignment_overlap.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/clock_crossing_violation.html">Clock crossing violation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/clock_crossing_violation.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/clock_crossing_violation.html#example">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="core/checks/clock_crossing_violation.html#crossclockdomain-tag">crossClockDomain tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/checks/clock_crossing_violation.html#setsyncronouswith">setSyncronousWith</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/combinatorial_loop.html">Combinational loop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/combinatorial_loop.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/combinatorial_loop.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/combinatorial_loop.html#false-positive">False-positive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/hierarchy_violation.html">Hierarchy violation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/hierarchy_violation.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/hierarchy_violation.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/introduction.html#id1">Introduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/iobundle.html">Io bundle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/iobundle.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/iobundle.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/latch_detected.html">Latch detected</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/latch_detected.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/latch_detected.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/no_driver_on.html">No driver on</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/no_driver_on.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/no_driver_on.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/nullpointerexception.html">NullPointerException</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/nullpointerexception.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/nullpointerexception.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/register_defined_as_component_input.html">Register defined as component input</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/register_defined_as_component_input.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/register_defined_as_component_input.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/scope_violation.html">Scope violation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/scope_violation.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/scope_violation.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/spinal_cant_clone.html">Spinal can’t clone class</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/spinal_cant_clone.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/spinal_cant_clone.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/unassigned_register.html">Unassigned register</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/unassigned_register.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/unassigned_register.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/unassigned_register.html#register-with-only-init">Register with only init</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/unreachable_is_statement.html">Unreachable is statement</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/unreachable_is_statement.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/unreachable_is_statement.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core/checks/width_mismatch.html">Width mismatch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core/checks/width_mismatch.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/width_mismatch.html#assignement-example">Assignement example</a></li>
<li class="toctree-l2"><a class="reference internal" href="core/checks/width_mismatch.html#operator-example">Operator example</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SpinalHDL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>VHDL/Verilog/SystemVerilog aren’t Hardware Description Languages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/rst/regular_hdl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>{% include note.html content=”All the following statements will be about describing hardware. Verification is another tasty topic.” %}
{% include note.html content=”For simplicity, let’s assume that SystemVerilog is a recent revision of Verilog.” %}
{% include note.html content=”When reading this, we should not underestimate how much our attachment for our favourite HDL will bias our judgement.” %}
{% include note.html content=”A language feature which isn’t supported by EDA tools shouldn’t be considerate as a language feature, as it is not usable. Look how VHDL 2008 is weakly supported, then look at the calendar.” %}</p>
<div class="section" id="vhdl-verilog-systemverilog-aren-t-hardware-description-languages">
<h1>VHDL/Verilog/SystemVerilog aren’t Hardware Description Languages<a class="headerlink" href="#vhdl-verilog-systemverilog-aren-t-hardware-description-languages" title="Permalink to this headline">¶</a></h1>
<p>Those languages are event driven languages created initially for simulation/documentation purposes. Only in a second time they were used as inputs languages for synthesis tools. Which explain the roots of a lot of following points of this page.</p>
</div>
<div class="section" id="event-driven-paradigm-doesn-t-make-any-sense-for-rtl">
<h1>Event driven paradigm doesn’t make any sense for RTL<a class="headerlink" href="#event-driven-paradigm-doesn-t-make-any-sense-for-rtl" title="Permalink to this headline">¶</a></h1>
<p>When you think about it, describing digital hardware (RTL) by using process/always blocks doesn’t make any practical senses. Why do we have to worry about a sensitivity list? Why do we have to split our design between processes/always blocks of different natures (combinatorial logic / register without reset / register with async reset) ?</p>
<p>Example of VHDL/SpinalHDL equivalences:</p>
<p>VHDL :</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">signal</span> <span class="n">mySignal</span> <span class="o">:</span> <span class="kt">std_logic</span><span class="p">;</span>
<span class="k">signal</span> <span class="n">myRegister</span> <span class="o">:</span> <span class="kt">unsigned</span><span class="p">(</span><span class="mi">3</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
<span class="k">signal</span> <span class="n">myRegisterWithReset</span> <span class="o">:</span> <span class="kt">unsigned</span><span class="p">(</span><span class="mi">3</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>

<span class="k">process</span><span class="p">(</span><span class="n">cond</span><span class="p">)</span>
<span class="k">begin</span>
    <span class="n">mySignal</span> <span class="o">&lt;=</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>
    <span class="k">if</span> <span class="n">cond</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
        <span class="n">mySignal</span> <span class="o">&lt;=</span> <span class="sc">&#39;1&#39;</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
<span class="k">end</span> <span class="k">process</span><span class="p">;</span>

<span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span>
<span class="k">begin</span>
    <span class="k">if</span> <span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span> <span class="k">then</span>
        <span class="k">if</span> <span class="n">cond</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
            <span class="n">myRegister</span> <span class="o">&lt;=</span> <span class="n">myRegister</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
<span class="k">end</span> <span class="k">process</span><span class="p">;</span>

<span class="k">process</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span><span class="n">reset</span><span class="p">)</span>
<span class="k">begin</span>
    <span class="k">if</span> <span class="n">reset</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
        <span class="n">myRegisterWithReset</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">elsif</span> <span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">)</span> <span class="k">then</span>
        <span class="k">if</span> <span class="n">cond</span> <span class="o">=</span> <span class="sc">&#39;1&#39;</span> <span class="k">then</span>
            <span class="n">myRegisterWithReset</span> <span class="o">&lt;=</span> <span class="n">myRegisterWithReset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
    <span class="k">end</span> <span class="k">if</span><span class="p">;</span>
<span class="k">end</span> <span class="k">process</span><span class="p">;</span>
</pre></div>
</div>
<p>SpinalHDL :</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">mySignal</span>             <span class="k">=</span> <span class="nc">Bool</span>
<span class="k">val</span> <span class="n">myRegister</span>           <span class="k">=</span> <span class="nc">Reg</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="mi">4</span> <span class="n">bits</span><span class="o">))</span>
<span class="k">val</span> <span class="n">myRegisterWithReset</span>  <span class="k">=</span> <span class="nc">Reg</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="mi">4</span> <span class="n">bits</span><span class="o">))</span> <span class="n">init</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>

<span class="n">mySignal</span> <span class="o">:=</span> <span class="nc">False</span>
<span class="n">when</span><span class="o">(</span><span class="n">cond</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">mySignal</span>            <span class="o">:=</span> <span class="nc">True</span>
    <span class="n">myRegister</span>          <span class="o">:=</span> <span class="n">myRegister</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">myRegisterWithReset</span> <span class="o">:=</span> <span class="n">myRegisterWithReset</span> <span class="o">+</span> <span class="mi">1</span>
<span class="o">}</span>
</pre></div>
</div>
<p>As for everything, you can get used to this event driven semantic, until you taste something better.</p>
</div>
<div class="section" id="recent-revision-of-vhdl-and-verilog-aren-t-usable">
<h1>Recent revision of VHDL and Verilog aren’t usable<a class="headerlink" href="#recent-revision-of-vhdl-and-verilog-aren-t-usable" title="Permalink to this headline">¶</a></h1>
<p>The EDA industry is really slow to implement VHDL 2008 and SystemVerilog synthesis capabilities in their tools. Additionally, when it’s done, it appear that only a constraining subset of the language is implemented (not talking about simulation features). It result that using any interesting feature of those language revision isn’t safe as</p>
<ul class="simple">
<li>It will probably make your code incompatible with many EDA tools</li>
<li>Others company will likely not accept your IP as their flow isn’t ready for it.</li>
</ul>
<p>Let’s me tell you that I’m tired to wait on expensive and closed source tools.</p>
</div>
<div class="section" id="recent-revisions-of-vhdl-and-verilog-aren-t-that-good">
<h1>Recent revisions of VHDL and Verilog aren’t that good.<a class="headerlink" href="#recent-revisions-of-vhdl-and-verilog-aren-t-that-good" title="Permalink to this headline">¶</a></h1>
<p>See VHDL 2008 parameterized packages and unconstrained records, sure it allow to write better VHDL sources, but from an OOP perspective they made me feel sick (See next topic for an SpinalHDL example).</p>
<p>And still those revisions doesn’t change the heart of those HDL issues: They are based on a event driven paradigm which doesn’t make sense to describe digital hardware.</p>
</div>
<div class="section" id="vhdl-records-verilog-struct-are-broken-systemverilog-is-good-on-this-if-you-can-use-it">
<h1>VHDL records, Verilog struct are broken (SystemVerilog is good on this, if you can use it)<a class="headerlink" href="#vhdl-records-verilog-struct-are-broken-systemverilog-is-good-on-this-if-you-can-use-it" title="Permalink to this headline">¶</a></h1>
<p>You can’t use them to define an interface, because you can’t define their internal signal directions. Even worst, you can’t give them construction parameters! So, define your RGB record/struct once, and hope you never have to use it with bigger/smaller color channels …</p>
<p>Also a fancy thing with VHDL is the fact that if you want to add an array of something into a component entity, you have to define the type of this array into a package … which can’t be parameterized…</p>
<p>A SpinalHDL APB3 bus definition:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">//Class which can be instantiated to represent a given APB3 configuration</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Apb3Config</span><span class="o">(</span>
  <span class="n">addressWidth</span>  <span class="k">:</span> <span class="kt">Int</span><span class="o">,</span>
  <span class="n">dataWidth</span>     <span class="k">:</span> <span class="kt">Int</span><span class="o">,</span>
  <span class="n">selWidth</span>      <span class="k">:</span> <span class="kt">Int</span>     <span class="o">=</span> <span class="mi">1</span><span class="o">,</span>
  <span class="n">useSlaveError</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="kc">true</span>
<span class="o">)</span>

<span class="c1">//Class which can be instantiated to represent a given hardware APB3 bus</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Apb3</span><span class="o">(</span><span class="n">config</span><span class="k">:</span> <span class="kt">Apb3Config</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Bundle</span> <span class="k">with</span> <span class="nc">IMasterSlave</span> <span class="o">{</span>
  <span class="k">val</span> <span class="nc">PADDR</span>      <span class="k">=</span> <span class="nc">UInt</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="n">addressWidth</span> <span class="n">bit</span><span class="o">)</span>
  <span class="k">val</span> <span class="nc">PSEL</span>       <span class="k">=</span> <span class="nc">Bits</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="n">selWidth</span> <span class="n">bits</span><span class="o">)</span>
  <span class="k">val</span> <span class="nc">PENABLE</span>    <span class="k">=</span> <span class="nc">Bool</span>
  <span class="k">val</span> <span class="nc">PREADY</span>     <span class="k">=</span> <span class="nc">Bool</span>
  <span class="k">val</span> <span class="nc">PWRITE</span>     <span class="k">=</span> <span class="nc">Bool</span>
  <span class="k">val</span> <span class="nc">PWDATA</span>     <span class="k">=</span> <span class="nc">Bits</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="n">dataWidth</span> <span class="n">bit</span><span class="o">)</span>
  <span class="k">val</span> <span class="nc">PRDATA</span>     <span class="k">=</span> <span class="nc">Bits</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="n">dataWidth</span> <span class="n">bit</span><span class="o">)</span>
  <span class="k">val</span> <span class="nc">PSLVERROR</span>  <span class="k">=</span> <span class="k">if</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="n">useSlaveError</span><span class="o">)</span> <span class="nc">Bool</span> <span class="k">else</span> <span class="kc">null</span>  <span class="c1">//Optional signal</span>

  <span class="c1">//Can be used to setup a given APB3 bus into a master interface of the host component</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">asMaster</span><span class="o">()</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">out</span><span class="o">(</span><span class="nc">PADDR</span><span class="o">,</span><span class="nc">PSEL</span><span class="o">,</span><span class="nc">PENABLE</span><span class="o">,</span><span class="nc">PWRITE</span><span class="o">,</span><span class="nc">PWDATA</span><span class="o">)</span>
    <span class="n">in</span><span class="o">(</span><span class="nc">PREADY</span><span class="o">,</span><span class="nc">PRDATA</span><span class="o">)</span>
    <span class="k">if</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="n">useSlaveError</span><span class="o">)</span> <span class="n">in</span><span class="o">(</span><span class="nc">PSLVERROR</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Then about the VHDL 2008 partial solution and the SystemVerilog interface/modport, lucky you are if your EDA tools / company flow / company policy allow you to use them.</p>
</div>
<div class="section" id="vhdl-and-verilog-are-so-verbose">
<h1>VHDL and Verilog are so verbose<a class="headerlink" href="#vhdl-and-verilog-are-so-verbose" title="Permalink to this headline">¶</a></h1>
<p>Realy, with VHDL and Verilog, when it start to be about component instanciation interconnection, the copypast good need to be invocated.</p>
<p>To understand it more deeply, there is an SpinalHDL example which do some peripherals instanciation and add the APB3 decoder required to access them.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">//Instanciate an AXI4 to APB3 bridge</span>
<span class="k">val</span> <span class="n">apbBridge</span> <span class="k">=</span> <span class="nc">Axi4ToApb3Bridge</span><span class="o">(</span>
  <span class="n">addressWidth</span> <span class="k">=</span> <span class="mi">20</span><span class="o">,</span>
  <span class="n">dataWidth</span>    <span class="k">=</span> <span class="mi">32</span><span class="o">,</span>
  <span class="n">idWidth</span>      <span class="k">=</span> <span class="mi">4</span>
<span class="o">)</span>

<span class="c1">//Instanciate some APB3 peripherals</span>
<span class="k">val</span> <span class="n">gpioACtrl</span> <span class="k">=</span> <span class="nc">Apb3Gpio</span><span class="o">(</span><span class="n">gpioWidth</span> <span class="k">=</span> <span class="mi">32</span><span class="o">)</span>
<span class="k">val</span> <span class="n">gpioBCtrl</span> <span class="k">=</span> <span class="nc">Apb3Gpio</span><span class="o">(</span><span class="n">gpioWidth</span> <span class="k">=</span> <span class="mi">32</span><span class="o">)</span>
<span class="k">val</span> <span class="n">timerCtrl</span> <span class="k">=</span> <span class="nc">PinsecTimerCtrl</span><span class="o">()</span>
<span class="k">val</span> <span class="n">uartCtrl</span> <span class="k">=</span> <span class="nc">Apb3UartCtrl</span><span class="o">(</span><span class="n">uartCtrlConfig</span><span class="o">)</span>
<span class="k">val</span> <span class="n">vgaCtrl</span> <span class="k">=</span> <span class="nc">Axi4VgaCtrl</span><span class="o">(</span><span class="n">vgaCtrlConfig</span><span class="o">)</span>

<span class="c1">//Instanciate an APB3 decoder</span>
<span class="c1">//- Drived by the apbBridge</span>
<span class="c1">//- Map each peripherals in a memory region</span>
<span class="k">val</span> <span class="n">apbDecoder</span> <span class="k">=</span> <span class="nc">Apb3Decoder</span><span class="o">(</span>
  <span class="n">master</span> <span class="k">=</span> <span class="n">apbBridge</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">apb</span><span class="o">,</span>
  <span class="n">slaves</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span>
    <span class="n">gpioACtrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">apb</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="mh">0x00000</span><span class="o">,</span> <span class="mi">4</span> <span class="n">kB</span><span class="o">),</span>
    <span class="n">gpioBCtrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">apb</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="mh">0x01000</span><span class="o">,</span> <span class="mi">4</span> <span class="n">kB</span><span class="o">),</span>
    <span class="n">uartCtrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">apb</span>  <span class="o">-&gt;</span> <span class="o">(</span><span class="mh">0x10000</span><span class="o">,</span> <span class="mi">4</span> <span class="n">kB</span><span class="o">),</span>
    <span class="n">timerCtrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">apb</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="mh">0x20000</span><span class="o">,</span> <span class="mi">4</span> <span class="n">kB</span><span class="o">),</span>
    <span class="n">vgaCtrl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">apb</span>   <span class="o">-&gt;</span> <span class="o">(</span><span class="mh">0x30000</span><span class="o">,</span> <span class="mi">4</span> <span class="n">kB</span><span class="o">)</span>
  <span class="o">)</span>
<span class="o">)</span>
</pre></div>
</div>
<p>And done, that’s all, you don’t have to bind each signal one by one when you instantiate a module/component because you can access their interfaces in a object oriented manner.</p>
<p>Also about VHDL/Verilog struct/records, i would just say that they are really dirty tricks, without true parameterization and reusability capabilities, some crutch which try to hide the fact that those languages were poorly designed.</p>
</div>
<div class="section" id="meta-hardware-description-capabilities">
<h1>Meta Hardware Description capabilities<a class="headerlink" href="#meta-hardware-description-capabilities" title="Permalink to this headline">¶</a></h1>
<p>Ok, this is a big chunk. Basically VHDL/Verilog/SystemVerilog will give you some elaboration tools which aren’t directly mapped into hardware as loops / generate statements / macro / function / procedure / task. But that’s all.</p>
<p>And even them are really limited. As instance why you can’t define process/always/component/module blocks into a task/procedure? It is really a bottleneck for many fancy things. What if you can call a user defined task/procedure on a bus like that: myHandshakeBus.queue(depth=64) ? Wouldn’t it be nice and safe to use?</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">//Define the concept of handshake bus</span>
<span class="k">class</span> <span class="nc">Stream</span><span class="o">[</span><span class="kt">T</span> <span class="k">&lt;:</span> <span class="kt">Data</span><span class="o">](</span><span class="n">dataType</span><span class="k">:</span>  <span class="kt">T</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Bundle</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">valid</span>   <span class="k">=</span> <span class="nc">Bool</span>
  <span class="k">val</span> <span class="n">ready</span>   <span class="k">=</span> <span class="nc">Bool</span>
  <span class="k">val</span> <span class="n">payload</span> <span class="k">=</span> <span class="n">cloneOf</span><span class="o">(</span><span class="n">dataType</span><span class="o">)</span>

  <span class="c1">//Define an operator to connect the left operand (this) to the right operand (that)</span>
  <span class="k">def</span> <span class="o">&gt;&gt;(</span><span class="n">that</span><span class="k">:</span> <span class="kt">Stream</span><span class="o">[</span><span class="kt">T</span><span class="o">])</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="n">valid</span> <span class="o">:=</span> <span class="n">that</span><span class="o">.</span><span class="n">valid</span>
    <span class="n">that</span><span class="o">.</span><span class="n">ready</span> <span class="o">:=</span> <span class="k">this</span><span class="o">.</span><span class="n">ready</span>
    <span class="k">this</span><span class="o">.</span><span class="n">payload</span> <span class="o">:=</span> <span class="n">that</span><span class="o">.</span><span class="n">payload</span>
  <span class="o">}</span>

  <span class="c1">//Return a Stream connected to this via a FIFO of depth elements</span>
  <span class="k">def</span> <span class="n">queue</span><span class="o">(</span><span class="n">depth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Stream</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">fifo</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">StreamFifo</span><span class="o">(</span><span class="n">dataType</span><span class="o">,</span> <span class="n">depth</span><span class="o">)</span>
    <span class="k">this</span> <span class="o">&gt;&gt;</span> <span class="n">fifo</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">push</span>
    <span class="k">return</span> <span class="n">fifo</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">pop</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Then let’s see further, imagine you want define a state machine, you will have to write raw VHDL/Verilog with some switch statements to do it. You can’t define kind of “StateMachine” abstraction which would give you a fancy syntax to define them, instead you will have to use a third party tool to draw your statemachine and then generate your VHDL/Verilog equivalent code. Which is really messy anyway.</p>
<p>So by meta-hardware description capabilities, i mean the fact that by using raw SpinalHDL syntax, you can define tools which then allow you to define things in abstracts ways, as for state-machine.</p>
<p>There is an simple example of the usage of a state-machine abstraction defined on the top of SpinalHDL :</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="c1">//Define a new state machine</span>
<span class="k">val</span> <span class="n">fsm</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">StateMachine</span><span class="o">{</span>
  <span class="c1">//Define all states</span>
  <span class="k">val</span> <span class="n">stateA</span><span class="o">,</span> <span class="n">stateB</span><span class="o">,</span> <span class="n">stateC</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">State</span>

  <span class="c1">//Set the statemachine entry point</span>
  <span class="n">setEntry</span><span class="o">(</span><span class="n">stateA</span><span class="o">)</span>

  <span class="c1">//Define a register used into the state machine</span>
  <span class="k">val</span> <span class="n">counter</span> <span class="k">=</span> <span class="nc">Reg</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="mi">8</span> <span class="n">bits</span><span class="o">))</span> <span class="n">init</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span>

  <span class="c1">//Define the state machine behavioural</span>
  <span class="n">stateA</span><span class="o">.</span><span class="n">whenIsActive</span> <span class="o">(</span><span class="n">goto</span><span class="o">(</span><span class="n">stateB</span><span class="o">))</span>

  <span class="n">stateB</span><span class="o">.</span><span class="n">onEntry</span><span class="o">(</span><span class="n">counter</span> <span class="o">:=</span> <span class="mi">0</span><span class="o">)</span>
  <span class="n">stateB</span><span class="o">.</span><span class="n">onExit</span><span class="o">(</span><span class="n">io</span><span class="o">.</span><span class="n">result</span> <span class="o">:=</span> <span class="nc">True</span><span class="o">)</span>
  <span class="n">stateB</span><span class="o">.</span><span class="n">whenIsActive</span> <span class="o">{</span>
    <span class="n">counter</span> <span class="o">:=</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">when</span><span class="o">(</span><span class="n">counter</span> <span class="o">===</span> <span class="mi">4</span><span class="o">){</span>
      <span class="n">goto</span><span class="o">(</span><span class="n">stateC</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="n">stateC</span><span class="o">.</span><span class="n">whenIsActive</span> <span class="o">(</span><span class="n">goto</span><span class="o">(</span><span class="n">stateA</span><span class="o">))</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Also imagine you want to generate the instruction decoding of your CPU, it could require some fancy elaboration time algorithms to generate the less logic possible. But in VHDL/Verilog/SystemVerilog, your only option to do this kind of things is to write a script which generates the .vhd .v that you want.</p>
<p>There is realy much to say about meta-hardware-description, but the only true way to understand it and get its realy taste is to experiment it. The goal with it is stopping playing with wires and gates as monkeys, starting taking some distance with that low level stuff, thinking big and reusable.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, penis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>